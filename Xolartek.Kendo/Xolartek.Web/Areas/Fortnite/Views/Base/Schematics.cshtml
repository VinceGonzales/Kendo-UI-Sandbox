@using Xolartek.Web.Fortnite.Models
@{
    Layout = "~/Areas/Fortnite/Views/Shared/_Layoutv2013.cshtml";
    ViewBag.Title = "Index";
}
@section header {

}
<div class="container">
    <div class="row">
        <div class="col-12"><h4>Fortnite</h4></div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div id="pnlMessage"></div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            @(Html.Kendo().Grid<SchematicVM>().Name("Schematics")
                    .Columns(columns =>
                    {
                        columns.Bound(p => p.imgurl).Title(" ").ClientTemplate(@"<img src='" + @Url.Content("#:data.imgurl#") + "' style='width:80px;' />").Width(80);
                        columns.Bound(p => p.name).Title("Name").Width(80);
                        columns.Bound(p => p.level).Title("Level").Width(80);
                        columns.Bound(p => p.stars).ClientTemplate("#=StarLabel(data.stars)#").Width(80);
                    })
                    .HtmlAttributes(new { style = "height: 500px;" })
                    .Sortable()
                    .Scrollable(s => s.Height("auto"))
                    .DataSource(dataSource => dataSource
                        .Ajax()
                        .Model(model => model.Id(a => a.id))
                        .Read(read => read.Action("LoadSchematicList", "Base", Model))
                    )
            )
        </div>
    </div>
</div>
@section scripts {
<script>
function StarLabel(data) {
    var result = '';
    for(var i=0;i<data;i++) {
        result += "<span class='k-icon k-i-custom'></span>";
    }
    return result;
}
</script>
}
